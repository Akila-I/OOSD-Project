sql commands

CREATE DATABASE Library DEFAULT CHARACTER SET utf8;


USE Library;


CREATE TABLE Users (
	user_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    f_name VARCHAR(20),
    l_name VARCHAR(20),
    username VARCHAR(20),
    email VARCHAR(30),
    passwrd VARCHAR(30),
    role VARCHAR(10),
    PRIMARY KEY(user_id)
);


CREATE TABLE Books (
	book_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    isbn VARCHAR(20),
    title VARCHAR(50),
    author VARCHAR(30),
    year INT(4),
    category VARCHAR(30),
    PRIMARY KEY(book_id)
);


CREATE TABLE Subscriptions(
	subs_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT UNSIGNED,
    subs_status VARCHAR(10),
    subs_date DATETIME,
    PRIMARY KEY(subs_id),
    
    CONSTRAINT FOREIGN KEY(user_id)
    	REFERENCES Users (user_id)
    	ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE CardDetails(
	card_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT UNSIGNED,
    card_number INT(20),
    valid_till DATETIME,
    PRIMARY KEY(card_id),
    
    CONSTRAINT FOREIGN KEY(user_id)
    	REFERENCES Users (user_id)
    	ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE Favourites(
	fav_entry_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT UNSIGNED,
    book_id INT UNSIGNED,
    PRIMARY KEY(fav_entry_id),
    
    CONSTRAINT FOREIGN KEY(user_id)
    	REFERENCES Users (user_id)
    	ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT FOREIGN KEY(book_id)
    	REFERENCES Books (book_id)
    	ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE Reading(
	reading_entry_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT UNSIGNED,
    book_id INT UNSIGNED,
    PRIMARY KEY(reading_entry_id),
    
    CONSTRAINT FOREIGN KEY(user_id)
    	REFERENCES Users (user_id)
    	ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT FOREIGN KEY(book_id)
    	REFERENCES Books (book_id)
    	ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE Finished(
	finished_entry_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT UNSIGNED,
    book_id INT UNSIGNED,
    PRIMARY KEY(finished_entry_id),
    
    CONSTRAINT FOREIGN KEY(user_id)
    	REFERENCES Users (user_id)
    	ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT FOREIGN KEY(book_id)
    	REFERENCES Books (book_id)
    	ON DELETE CASCADE ON UPDATE CASCADE
);



CREATE TABLE Notifications(
	notification_id INT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id INT UNSIGNED,
    notification_type INT,
    PRIMARY KEY(notification_id),
    
    CONSTRAINT FOREIGN KEY(user_id)
    	REFERENCES Users (user_id)
    	ON DELETE CASCADE ON UPDATE CASCADE
);
